<header>
    <h1>Result table</h1>
    <p class="prose">
        Use a result table to display search results. It has pagination, sorting, and basic state display built in.
    </p>
</header>

<article>
    <h2>States</h2>
    <h3>Default</h3>

    <div class="demo">
        <div class="example-control">
            Control demo total results:
            <select class="ml-2" [(ngModel)]="defaultModelTotal" [ngModelOptions]="{standalone: true}" (change)="changeDefaultModelTotal()">
                <option>120</option>
                <option>85</option>
                <option>5</option>
            </select>
        </div>
        <div class="example">
            <mz-result-table [model]="defaultModel$ | async" [loading]="defaultLoadingState.loading" [error]="defaultLoadingState.error" [headTemplate]="headTemplate" [bodyTemplate]="bodyTemplate"
                (pageChange)="onPageChange($event)">
                <ng-template #headTemplate>
                    <tr>
                        <th>Order</th>
                        <th>Customer</th>
                        <th>Status</th>
                        <th>Date</th>
                        <th>Total</th>
                        <th>Country</th>
                    </tr>
                </ng-template>
                <ng-template #bodyTemplate let-order>
                    <tr>
                        <td>{{order.orderNumber}}</td>
                        <td>{{order.customer}}</td>
                        <td>{{order.status}}</td>
                        <td>{{order.date | date}}</td>
                        <td>{{order.total | currency}}</td>
                        <td>{{order.country}}</td>
                    </tr>
                </ng-template>
            </mz-result-table>
        </div>
    </div>

    <h3>Loading</h3>
    <div class="example">
        <mz-result-table [loading]="loadingExampleState.loading" [headTemplate]="headTemplate" [bodyTemplate]="bodyTemplate">
            <ng-template #headTemplate>
                <tr>
                    <th>Order</th>
                    <th>Customer</th>
                    <th>Date</th>
                    <th>Total</th>
                </tr>
            </ng-template>
            <ng-template #bodyTemplate let-order>
                <tr>
                    <td>{{order.orderNumber}}</td>
                    <td>{{order.customer}}</td>
                    <td>{{order.date | date}}</td>
                    <td>{{order.total | currency}}</td>
                </tr>
            </ng-template>
        </mz-result-table>
    </div>
    <div class="example">
        <mz-result-table [loading]="true" [model]="getPagedModel(1, 10) | async" [headTemplate]="headTemplate" [bodyTemplate]="bodyTemplate">
            <ng-template #headTemplate>
                <tr>
                    <th>Order</th>
                    <th>Customer</th>
                    <th>Date</th>
                    <th>Total</th>
                </tr>
            </ng-template>
            <ng-template #bodyTemplate let-order>
                <tr>
                    <td>{{order.orderNumber}}</td>
                    <td>{{order.customer}}</td>
                    <td>{{order.date | date}}</td>
                    <td>{{order.total | currency}}</td>
                </tr>
            </ng-template>
        </mz-result-table>
    </div>

    <h3>Empty</h3>
    <div class="example">
        <mz-result-table [model]="emptyModel$ | async" [headTemplate]="headTemplate" [bodyTemplate]="bodyTemplate">
            <ng-template #headTemplate>
                <tr>
                    <th>Order</th>
                    <th>Customer</th>
                    <th>Date</th>
                    <th>Total</th>
                </tr>
            </ng-template>
            <ng-template #bodyTemplate let-order>
                <tr>
                    <td>{{order.orderNumber}}</td>
                    <td>{{order.customer}}</td>
                    <td>{{order.date | date}}</td>
                    <td>{{order.total | currency}}</td>
                </tr>
            </ng-template>
        </mz-result-table>
    </div>

    <h3>Error</h3>
    <div class="example">
        <mz-result-table [error]="error" [headTemplate]="headTemplate" [bodyTemplate]="bodyTemplate">
            <ng-template #headTemplate>
                <tr>
                    <th>Order</th>
                    <th>Customer</th>
                    <th>Date</th>
                    <th>Total</th>
                </tr>
            </ng-template>
            <ng-template #bodyTemplate let-order>
                <tr>
                    <td>{{order.orderNumber}}</td>
                    <td>{{order.customer}}</td>
                    <td>{{order.date | date}}</td>
                    <td>{{order.total | currency}}</td>
                </tr>
            </ng-template>
        </mz-result-table>
    </div>

    <h3>Sortable</h3>
    <div class="example">
        // TODO
        <div>
            <table class="table">
                <caption>1-4 of 4 orders</caption>
                <thead>
                    <tr>
                        <th>Order</th>
                        <th>Customer</th>
                        <th>Date</th>
                        <th>Total</th>
                        <th>Status</th>
                        <th>Store</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>53961111</td>
                        <td>Jane Doe</td>
                        <td>01/01/2022 5:15 PM</td>
                        <td>$80.05</td>
                        <td>Created</td>
                        <td>amazon.com</td>
                    </tr>
                    <tr>
                        <td>53961121</td>
                        <td>John Doe</td>
                        <td>12/31/2021 5:15 PM</td>
                        <td>$56.75</td>
                        <td>Partially filled</td>
                        <td>Broadway St 76 NY</td>
                    </tr>
                    <tr>
                        <td>53971146</td>
                        <td>Joe Shmoe</td>
                        <td>12/30/2021 5:15 PM</td>
                        <td>$327.63</td>
                        <td>Completed</td>
                        <td>Main St Salt Lake City</td>
                    </tr>
                    <tr>
                        <td>53971122</td>
                        <td>Jane Doe</td>
                        <td>12/30/2021 5:15 PM</td>
                        <td>$327.63</td>
                        <td>Canceled</td>
                        <td>South Jordan Pkwy Salt Lake City</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</article>

<article>
    <h2>Best practices</h2>
    <ul class="list-disc list-inside">
        <li>When used on a search page, always use it along with a bookmarkable url. This supprts browser's Back button, allows users to bookmark and share the search, and helps with google analytics. See <a routerLink="/examples/resourcelist">Resource list</a> page for example.</li>
    </ul>

    <h2>TODO</h2>
    <ul>
        <li>Styling when table is horizontally scrollable</li>
    </ul>
</article>
